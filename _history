{"entries":[{"timestamp":1743171604625,"editorVersion":"7.0.57","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":51,"diffs":[[1,""]]},{"start1":1,"length1":2113,"diffs":[[1,""]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":96,"length1":109,"diffs":[[1,"        \"radio\": \"*\",\n        \"microphone\": \"*\"\n"]]},{"start1":290,"length1":254,"diffs":[[1,"    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1743172993479,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":1948,"length1":514,"diffs":[[1,"                wuKong.setServoAngle(wuKong.ServoTypeList._360, wuKong.ServoList.S0, value)\n                wuKong.setServoAngle(wuKong.ServoTypeList._360, wuKong.ServoList.S7, value2)\n"]]}]}]},{"timestamp":1761994931340,"editorVersion":"8.0.18","changes":[{"type":"edited","filename":"pxt.json","patch":[{"start1":273,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"},{"type":"added","filename":"main.blocks","value":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>"}]}],"snapshots":[{"timestamp":1743171604624,"editorVersion":"7.0.57","text":{"main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"Wukong 4 car\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\",\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1744312465944,"editorVersion":"7.0.61","text":{"main.ts":"let latestCommands: { [key: string]: number } = {}\n\nlet servoLimit = 30;\n\nbasic.clearScreen()\n\nbluetooth.startUartService()\n\nbluetooth.onBluetoothConnected(function () {\n})\n\nbluetooth.onUartDataReceived(serial.delimiters(Delimiters.NewLine), function () {\n    let command = bluetooth.uartReadUntil(serial.delimiters(Delimiters.NewLine))\n    let commadParts = command.split(\"=\")\n\n    latestCommands[commadParts[0]] = parseFloat(commadParts[1])\n})\n\nbasic.forever(function () {\n    while (Object.keys(latestCommands).length) {\n        let commandName = Object.keys(latestCommands)[0]\n        let commandValue = latestCommands[commandName]\n        delete latestCommands[commandName];\n\n        if (commandName == \"-v\") {\n            bluetooth.uartWriteLine('vc;import_start;')\n            bluetooth.uartWriteLine('vc;init;')\n            bluetooth.uartWriteLine(`vc;sr;1;-${servoLimit};${servoLimit};1;1;0;0;;`)\n            bluetooth.uartWriteLine(`vc;jrx;-${servoLimit};${servoLimit};1;1;0;`)\n            bluetooth.uartWriteLine(`vc;sl;1;-100;100;1;1;0;1;;`)\n            bluetooth.uartWriteLine(`vc;jry;-100;100;1;0;0;`)\n\n            bluetooth.uartWriteLine('vc;ox;1;-30;30;-60;60;10;1;0;')\n            bluetooth.uartWriteLine('vc;oy;0;-30;30;-100;100;10;0;0;')\n            bluetooth.uartWriteLine('vc;il;1;')\n            bluetooth.uartWriteLine('vc;ir;1;')\n            bluetooth.uartWriteLine('vc;show;sl,sr,jr,br,bl;')\n            bluetooth.uartWriteLine('vc;import_end;')\n        } else if (commandName == \"oy\" || commandName == \"sl\" || commandName == \"jry\") {\n            wuKong.setMotorSpeed(wuKong.MotorList.M1, commandValue)\n            wuKong.setMotorSpeed(wuKong.MotorList.M2, -commandValue)\n        } else if (commandName == \"ox\" || commandName == \"sr\" || commandName == \"jrx\") {\n            let value = commandValue + 180;\n            let value2 = 180 - commandValue;\n            if (value >= 180 - servoLimit && value <= 180 + servoLimit) {\n                // control.runInBackground()\n                wuKong.setServoAngle(wuKong.ServoTypeList._360, wuKong.ServoList.S0, value)\n                wuKong.setServoAngle(wuKong.ServoTypeList._360, wuKong.ServoList.S1, value2)\n            }\n        }\n    }\n})","README.md":"","pxt.json":"{\n    \"name\": \"Wukong 4 car\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"microphone\": \"*\",\n        \"bluetooth\": \"*\",\n        \"wuKong\": \"github:elecfreaks/pxt-wukong#v1.5.8\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\",\n    \"yotta\": {\n        \"config\": {\n            \"microbit-dal\": {\n                \"bluetooth\": {\n                    \"open\": 1,\n                    \"whitelist\": 0,\n                    \"security_level\": null\n                }\n            }\n        }\n    }\n}\n"}},{"timestamp":1761994931340,"editorVersion":"8.0.18","text":{"main.ts":"let latestCommands: { [key: string]: number } = {}\n\nlet servoLimit = 30;\n\nbasic.clearScreen()\n\nbluetooth.startUartService()\n\nbluetooth.onBluetoothConnected(function () {\n})\n\nbluetooth.onUartDataReceived(serial.delimiters(Delimiters.NewLine), function () {\n    let command = bluetooth.uartReadUntil(serial.delimiters(Delimiters.NewLine))\n    let commadParts = command.split(\"=\")\n\n    latestCommands[commadParts[0]] = parseFloat(commadParts[1])\n})\n\nbasic.forever(function () {\n    while (Object.keys(latestCommands).length) {\n        let commandName = Object.keys(latestCommands)[0]\n        let commandValue = latestCommands[commandName]\n        delete latestCommands[commandName];\n\n        if (commandName == \"-v\") {\n            bluetooth.uartWriteLine('vc;import_start;')\n            bluetooth.uartWriteLine('vc;init;')\n            bluetooth.uartWriteLine(`vc;sr;1;-${servoLimit};${servoLimit};1;1;0;0;;`)\n            bluetooth.uartWriteLine(`vc;jrx;-${servoLimit};${servoLimit};1;1;0;`)\n            bluetooth.uartWriteLine(`vc;sl;1;-100;100;1;1;0;1;;`)\n            bluetooth.uartWriteLine(`vc;jry;-100;100;1;0;0;`)\n\n            bluetooth.uartWriteLine('vc;ox;1;-30;30;-60;60;10;1;0;')\n            bluetooth.uartWriteLine('vc;oy;0;-30;30;-100;100;10;0;0;')\n            bluetooth.uartWriteLine('vc;il;1;')\n            bluetooth.uartWriteLine('vc;ir;1;')\n            bluetooth.uartWriteLine('vc;show;sl,sr,jr,br,bl;')\n            bluetooth.uartWriteLine('vc;import_end;')\n        } else if (commandName == \"oy\" || commandName == \"sl\" || commandName == \"jry\") {\n            wuKong.setMotorSpeed(wuKong.MotorList.M1, commandValue)\n            wuKong.setMotorSpeed(wuKong.MotorList.M2, -commandValue)\n        } else if (commandName == \"ox\" || commandName == \"sr\" || commandName == \"jrx\") {\n            let value = commandValue + 180;\n            let value2 = 180 - commandValue;\n            if (value >= 180 - servoLimit && value <= 180 + servoLimit) {\n                control.inBackground(() => {\n                    wuKong.setServoAngle(wuKong.ServoTypeList._360, wuKong.ServoList.S0, value)\n                })\n                control.inBackground(() => {\n                    wuKong.setServoAngle(wuKong.ServoTypeList._360, wuKong.ServoList.S7, value2)\n                })\n\n                // wuKong.setServoAngle(wuKong.ServoTypeList._360, wuKong.ServoList.S0, value)\n                // wuKong.setServoAngle(wuKong.ServoTypeList._360, wuKong.ServoList.S1, value2)\n\n            }\n        }\n    }\n})","README.md":"","pxt.json":"{\n    \"name\": \"Wukong 4 car\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"microphone\": \"*\",\n        \"bluetooth\": \"*\",\n        \"wuKong\": \"github:elecfreaks/pxt-wukong#v1.5.8\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\",\n    \"yotta\": {\n        \"config\": {\n            \"microbit-dal\": {\n                \"bluetooth\": {\n                    \"open\": 1,\n                    \"whitelist\": 0,\n                    \"security_level\": null\n                }\n            }\n        }\n    }\n}\n"}}],"shares":[],"lastSaveTime":1761994931349}